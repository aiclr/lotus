<?xml version="1.0" standalone="no"?>
<svg style="background: #fff" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="953px" height="585px" viewBox="-0.5 -0.5 953 585"><defs><style>* {margin: 0px; padding: 0px;}</style></defs><g><rect x="0.5" y="255" width="320" height="222" rx="15.54" ry="15.54" fill="#d4e1f5" stroke="none" pointer-events="none"/><rect x="4.5" y="273" width="100" height="200" rx="7" ry="7" fill="#99ffff" stroke="none" pointer-events="none"/><rect x="1" y="484" width="300" height="100" rx="7" ry="7" fill="#d5e8d4" stroke="none" pointer-events="none"/><rect x="4" y="506" width="145" height="75" rx="5.25" ry="5.25" fill="#99ffcc" stroke="none" pointer-events="none"/><rect x="349" y="0.5" width="603" height="195" rx="13.65" ry="13.65" fill="#99ccff" stroke="none" pointer-events="none"/><rect x="651" y="36.5" width="290" height="150" rx="10.5" ry="10.5" fill="#cce5ff" stroke="#000000" pointer-events="none"/><rect x="307" y="484" width="145" height="100" rx="7" ry="7" fill="#e1d5e7" stroke="none" pointer-events="none"/><rect x="0.5" y="175" width="320" height="70" rx="4.9" ry="4.9" fill="#f8cecc" stroke="none" pointer-events="none"/><rect x="0.5" y="135" width="320" height="30" rx="2.1" ry="2.1" fill="#ffd966" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="160" y="146.5">Native Method Stack</text><text x="160" y="160.5">线程私有</text></g><rect x="4.5" y="347" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="54" y="370.5">Stack Frame</text></g><rect x="4.5" y="387" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="54" y="410.5">...</text></g><g transform="translate(131.5,255.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="58" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Stack Area</div></div></foreignObject></g><g transform="translate(126.5,178.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="67" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">pc Registers</div></div></foreignObject></g><rect x="10.5" y="199" width="75" height="40" rx="2.8" ry="2.8" fill="#f19c99" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="47.5" y="208.5">pc register </text><text x="47.5" y="222.5">for </text><text x="47.5" y="236.5">Thread 1</text></g><rect x="235.5" y="199" width="75" height="40" rx="2.8" ry="2.8" fill="#f19c99" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="272.5" y="208.5">pc register</text><text x="272.5" y="222.5">for</text><text x="272.5" y="236.5">Thread n</text></g><rect x="160.5" y="199" width="75" height="40" rx="2.8" ry="2.8" fill="#f19c99" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="197.5" y="222.5">...</text></g><rect x="85.5" y="199" width="75" height="40" rx="2.8" ry="2.8" fill="#f19c99" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="122.5" y="208.5">pc register</text><text x="122.5" y="222.5">for</text><text x="122.5" y="236.5">Thread 2</text></g><g transform="translate(75.5,91.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="17"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(234, 107, 102); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Runtime Data Areas jdk8</div></div></foreignObject></g><g transform="translate(120.5,487.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Heap Area</div></div></foreignObject></g><g transform="translate(314.5,490.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="131" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Metaspace（元数据区）</div></div></foreignObject></g><rect x="467" y="484" width="80" height="100" rx="5.6" ry="5.6" fill="#ea6b66" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="506.5" y="523.5">CodeCache</text><text x="506.5" y="537.5">代码缓存</text><text x="506.5" y="551.5">JIT编译产物</text></g><g transform="translate(607.5,7.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="91" height="27"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Stack Frame 1<br/>栈帧-1（方法A）</div></div></foreignObject></g><rect x="358.5" y="36.5" width="90" height="150" rx="6.3" ry="6.3" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="403" y="108">Local Variables</text><text x="403" y="122">局部变量表</text></g><rect x="455.5" y="36.5" width="90" height="150" rx="6.3" ry="6.3" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="500" y="108">Operand Stacks</text><text x="500" y="122">操作数栈</text></g><rect x="553.5" y="36.5" width="90" height="150" rx="6.3" ry="6.3" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="598" y="108">Dynamic Linking</text><text x="598" y="122">动态链接</text></g><rect x="655" y="86.5" width="240" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="774.5" y="103">Normal Method Invocation Completion</text><text x="774.5" y="117">正常的方法调用完成</text></g><rect x="655" y="136.5" width="240" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="774.5" y="153">Abrupt Method Invocation Completion</text><text x="774.5" y="167">异常的方法调用完成</text></g><g transform="translate(709.5,42.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="162" height="41"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Method Invocation Completion<br/>方法调用完成<br/>(Return Address)</div></div></foreignObject></g><path d="M 918.14 84.5 L 913.14 84.5 Q 908.14 84.5 908.14 94.5 L 908.14 121.5 Q 908.14 131.5 903.14 131.5 L 900.64 131.5 Q 898.14 131.5 903.14 131.5 L 905.64 131.5 Q 908.14 131.5 908.14 141.5 L 908.14 168.5 Q 908.14 178.5 913.14 178.5 L 918.14 178.5" fill="none" stroke="#000000" stroke-miterlimit="10" transform="rotate(180,908.14,131.5)" pointer-events="none"/><g transform="translate(924.5,124.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="11" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">or</div></div></foreignObject></g><rect x="9" y="527" width="65" height="50" rx="3.5" ry="3.5" fill="#d5e8d4" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="41" y="555.5">Eden</text></g><rect x="78" y="527" width="65" height="20" rx="1.4" ry="1.4" fill="#d5e8d4" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="110" y="540.5">Survivor 0</text></g><g transform="translate(21.5,510.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="109" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Young 区（新生代）</div></div></foreignObject></g><rect x="153" y="506" width="145" height="75" rx="5.25" ry="5.25" fill="#ffff99" stroke="none" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="225" y="540">Old区</text><text x="225" y="554">（老年代）</text></g><rect x="310" y="541" width="75" height="20" rx="1.4" ry="1.4" fill="#e1d5e7" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="347" y="554.5">方法元信息</text></g><rect x="389.5" y="516" width="60" height="60" rx="4.2" ry="4.2" fill="#e1d5e7" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="419" y="542.5">klass</text><text x="419" y="556.5">类元信息</text></g><rect x="310" y="516" width="75" height="20" rx="1.4" ry="1.4" fill="#e1d5e7" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="347" y="529.5">运行时常量池</text></g><g transform="translate(29.5,281.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Thread 1</div></div></foreignObject></g><rect x="4.5" y="427" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="54" y="450.5">Stack Frame</text></g><rect x="4.5" y="307" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="54" y="330.5">Stack Frame</text></g><rect x="110.5" y="273" width="100" height="200" rx="7" ry="7" fill="#99ffff" stroke="none" pointer-events="none"/><rect x="110.5" y="347" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="160" y="370.5">Stack Frame</text></g><rect x="110.5" y="387" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="160" y="410.5">...</text></g><g transform="translate(136.5,281.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Thread 2</div></div></foreignObject></g><rect x="110.5" y="427" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="160" y="450.5">Stack Frame</text></g><rect x="110.5" y="307" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="160" y="330.5">Stack Frame</text></g><rect x="217.5" y="273" width="100" height="200" rx="7" ry="7" fill="#99ffff" stroke="none" pointer-events="none"/><path d="M 316.7 366.08 L 344.12 310.98" fill="none" stroke="#9999ff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 346.8 305.61 L 346.81 314.55 L 344.12 310.98 L 339.65 310.99 Z" fill="#9999ff" stroke="#9999ff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="217.5" y="347" width="100" height="40" rx="2.8" ry="2.8" fill="#9999ff" stroke="#000000" pointer-events="none"/><g fill="#FFFFFF" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="267" y="370.5">Stack Frame</text></g><rect x="217.5" y="387" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="267" y="410.5">...</text></g><g transform="translate(243.5,281.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Thread 3</div></div></foreignObject></g><rect x="217.5" y="427" width="100" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="267" y="450.5">Stack Frame</text></g><path d="M 316.7 326 L 346.04 118.83" fill="none" stroke="#99ccff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 346.88 112.89 L 349.72 121.37 L 346.04 118.83 L 341.8 120.25 Z" fill="#99ccff" stroke="#99ccff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="217.5" y="307" width="100" height="40" rx="2.8" ry="2.8" fill="#99ccff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="267" y="330.5">Stack Frame</text></g><rect x="349" y="198.5" width="603" height="195" rx="13.65" ry="13.65" fill="#9999ff" stroke="none" pointer-events="none"/><rect x="651" y="234.5" width="290" height="150" rx="10.5" ry="10.5" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g transform="translate(607.5,205.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="91" height="27"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Stack Frame 2<br/>栈帧-2（方法B）</div></div></foreignObject></g><rect x="358.5" y="234.5" width="90" height="150" rx="6.3" ry="6.3" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="403" y="306">Local Variables</text><text x="403" y="320">局部变量表</text></g><rect x="455.5" y="234.5" width="90" height="150" rx="6.3" ry="6.3" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="500" y="306">Operand Stacks</text><text x="500" y="320">操作数栈</text></g><rect x="553.5" y="234.5" width="90" height="150" rx="6.3" ry="6.3" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="598" y="306">Dynamic Linking</text><text x="598" y="320">动态链接</text></g><rect x="655" y="284.5" width="240" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="774.5" y="301">Normal Method Invocation Completion</text><text x="774.5" y="315">正常的方法调用完成</text></g><rect x="655" y="334.5" width="240" height="40" rx="2.8" ry="2.8" fill="#cce5ff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="774.5" y="351">Abrupt Method Invocation Completion</text><text x="774.5" y="365">异常的方法调用完成</text></g><g transform="translate(709.5,240.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="162" height="41"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Method Invocation Completion<br/>方法调用完成<br/>(Return Address)</div></div></foreignObject></g><path d="M 918.14 282.5 L 913.14 282.5 Q 908.14 282.5 908.14 292.5 L 908.14 319.5 Q 908.14 329.5 903.14 329.5 L 900.64 329.5 Q 898.14 329.5 903.14 329.5 L 905.64 329.5 Q 908.14 329.5 908.14 339.5 L 908.14 366.5 Q 908.14 376.5 913.14 376.5 L 918.14 376.5" fill="none" stroke="#000000" stroke-miterlimit="10" transform="rotate(180,908.14,329.5)" pointer-events="none"/><g transform="translate(924.5,322.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="11" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">or</div></div></foreignObject></g><path d="M 419 466.75 L 349 466.75 C 337.96 466.75 329 463.58 329 459.67 L 329 410.08 C 329 406.17 337.96 403 349 403 L 709 403 C 720.04 403 729 406.17 729 410.08 L 729 459.67 C 729 463.58 720.04 466.75 709 466.75 L 479 466.75 C 467.16 477.76 432.16 486.02 389 488 C 404.56 483.96 415.72 476.06 419 466.75 Z" fill="#e6e6e6" stroke="none" pointer-events="none"/><g transform="translate(330.5,406.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="389" height="56"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Method Area：<br/>jdk7及以前通常称为Permanent Generation Space（永久代）<br/>jdk8采用Metaspace（元空间）取代永久代，作为Method Area的落地实现<br/>仅对Hotspot而言方法区与永久代等价</div></div></foreignObject></g><rect x="78" y="557" width="65" height="20" rx="1.4" ry="1.4" fill="#ffffff" stroke="none" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="110" y="570.5">Survivor 1</text></g></g></svg>
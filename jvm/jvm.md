# jvm

## å¤‡æ³¨

> å†…å­˜
> > æ˜¯éå¸¸é‡è¦çš„ç³»ç»Ÿèµ„æºï¼Œæ˜¯ç¡¬ç›˜å’Œcpuçš„ä¸­é—´ä»“åº“åŠæ¡¥æ¢ï¼Œæ‰¿è½½ç€æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„å®æ—¶è¿è¡Œã€‚
> > JVMå†…å­˜å¸ƒå±€è§„å®šäº†javaåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å†…å­˜ç”³è¯·ã€åˆ†é…ã€ç®¡ç†çš„ç­–ç•¥ï¼Œä¿è¯äº†JVMçš„é«˜æ•ˆç¨³å®šè¿è¡Œã€‚
> > ä¸åŒçš„JVMå¯¹äºå†…å­˜çš„åˆ’åˆ†æ–¹å¼å’Œç®¡ç†æœºåˆ¶å­˜åœ¨ç€éƒ¨åˆ†å·®å¼‚ã€‚

> JVM å®šä¹‰äº†è‹¥å¹²ç§ç¨‹åºè¿è¡ŒæœŸé—´ä¼šä½¿ç”¨åˆ°çš„`run-time data areas`
> > ç”Ÿå‘½å‘¨æœŸä¸JVMä¸€è‡´çš„å†…å­˜åŒºåŸŸ
> > - `heap area`
> > - `non-heap`
> >    - `method area`jdk8é‡‡ç”¨`metaspace`<sub>å…ƒç©ºé—´</sub>ä½œä¸º`method area`çš„è½åœ°å®ç°
> >    - **ä»£ç ç¼“å­˜**<sub>`JIT`ç¼–è¯‘äº§ç‰©</sub>
>
> > çº¿ç¨‹ç§æœ‰åŒºåŸŸ
> > - [program counter registers](pcregister.md)
> > - [jvm stacks](jvmstacks.md)
> > - [native stacks](nativemethodstacks.md)
>
> `public class Runtime extends Object`
> > æ¯ä¸ªJVMåªæœ‰ä¸€ä¸ª`Runtime`å®ä¾‹ã€‚å³ä¸º**è¿è¡Œæ—¶ç¯å¢ƒ**\
> > Every Java application has a single instance of class `Runtime` that allows the application to interface with the environment in which the application is running. The current runtime can be obtained<sub>è·å¾—</sub> from the `getRuntime` method.

[top](#jvm)ğŸš¦[home](../index.md#jvm)

## çº¿ç¨‹

> çº¿ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºé‡Œçš„è¿è¡Œå•å…ƒã€‚JVMå…è®¸ä¸€ä¸ªåº”ç”¨æœ‰å¤šä¸ªçº¿ç¨‹å¹¶å‘çš„æ‰§è¡Œ\
> `HotspotJVM`é‡Œï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¸æ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ç›´æ¥æ˜ å°„
> > å½“ä¸€ä¸ª`javaçº¿ç¨‹`å‡†å¤‡å¥½æ‰§è¡Œä»¥åï¼Œä¸€ä¸ª`æ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹`ä¹ŸåŒæ—¶åˆ›å»ºï¼Œ`javaçº¿ç¨‹`æ‰§è¡Œç»ˆæ­¢å`æœ¬åœ°çº¿ç¨‹`ä¹Ÿä¼šå›æ”¶\
> > `æ“ä½œç³»ç»Ÿ`è´Ÿè´£æ‰€æœ‰çº¿ç¨‹çš„å®‰æ’è°ƒåº¦åˆ°ä»»ä½•ä¸€ä¸ªå¯ç”¨çš„`cpu`ä¸Šï¼Œä¸€æ—¦`æœ¬åœ°çº¿ç¨‹`åˆå§‹åŒ–æˆåŠŸï¼Œä¼šè°ƒç”¨`javaçº¿ç¨‹`ä¸­çš„`run()`æ–¹æ³•
>
> çº¿ç¨‹å‡ºç°å¼‚å¸¸
> > æ•è·å¤„ç†å¼‚å¸¸ä¹Ÿç›¸å½“äº`javaçº¿ç¨‹`æ­£å¸¸ç»ˆæ­¢\
> > æœªæ•è·å¤„ç†å¼‚å¸¸ï¼Œ`javaçº¿ç¨‹`è‚¯å®šç»ˆæ­¢ï¼Œæ­¤æ—¶æ“ä½œç³»ç»Ÿè¿˜è¦åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦è¦ç»ˆæ­¢`JVM`
> >   - `deamon`<sub>å®ˆæŠ¤çº¿ç¨‹</sub>ï¼Œå¦‚æœ`JVM`ä¸­åªå‰©`demon`åˆ™`JVM`å¯ä»¥é€€å‡º
> >   - éå®ˆæŠ¤çº¿ç¨‹ å½“å‰çº¿ç¨‹ä¸ºæœ€åä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹åˆ™ç»ˆæ­¢`JVM`

[top](#jvm)ğŸš¦[home](../index.md#jvm)

### åå°ç³»ç»Ÿçº¿ç¨‹

> `hotspot JVM`çš„åå°ç³»ç»Ÿçº¿ç¨‹
> ä½¿ç”¨`jconsole`æˆ–è€…å…¶ä»–è°ƒè¯•å·¥å…·ï¼Œèƒ½çœ‹åˆ°åå°æœ‰è®¸å¤šçº¿ç¨‹åœ¨è¿è¡Œï¼Œä¸åŒ…æ‹¬`main`æ–¹æ³•çš„`main`çº¿ç¨‹ä»¥åŠæ‰€æœ‰è¿™ä¸ª`main`çº¿ç¨‹è‡ªå·±åˆ›å»ºçš„çº¿ç¨‹
>
> **è™šæ‹Ÿæœºçº¿ç¨‹**
> > è¿™ç§çº¿ç¨‹çš„æ“ä½œæ˜¯éœ€è¦`JVM`è¾¾åˆ°**å®‰å…¨ç‚¹**æ‰ä¼šå‡ºç°ã€‚\
> > è¿™äº›æ“ä½œå¿…é¡»åœ¨ä¸åŒçº¿ç¨‹ä¸­å‘ç”Ÿçš„åŸå› æ˜¯ä»–ä»¬éƒ½éœ€è¦`JVM`è¾¾åˆ°**å®‰å…¨ç‚¹**ï¼Œè¿™æ ·`heap area`æ‰ä¸ä¼šå˜åŒ–ã€‚
> > è¿™ç§çº¿ç¨‹çš„æ‰§è¡Œç±»å‹åŒ…æ‹¬`STW`<sub>stop-the-world</sub>çš„**åƒåœ¾æ”¶é›†**ã€**çº¿ç¨‹æ ˆæ”¶é›†**ã€**çº¿ç¨‹æŒ‚èµ·**ã€**åå‘é”æ’¤é”€**ã€‚
>
> **å‘¨æœŸä»»åŠ¡çº¿ç¨‹**
> > è¿™ç§çº¿ç¨‹æ˜¯æ—¶é—´å‘¨æœŸäº‹ä»¶çš„ä½“ç°<sub>æ¯”å¦‚ä¸­æ–­</sub>ï¼Œä»–ä»¬ä¸€èˆ¬ç”¨äºå‘¨æœŸæ€§æ“ä½œçš„è°ƒåº¦æ‰§è¡Œ
>
> **GCçº¿ç¨‹**
> > è¿™ç§çº¿ç¨‹å¯¹åœ¨`JVM`é‡Œä¸åŒç§ç±»çš„åƒåœ¾æ”¶é›†è¡Œä¸ºæä¾›äº†æ”¯æŒ
>
> **ç¼–è¯‘çº¿ç¨‹**
> > è¿™ç§çº¿ç¨‹åœ¨è¿è¡Œæ—¶ä¼šå°†**å­—èŠ‚ç **ç¼–è¯‘æˆ**æœ¬åœ°ä»£ç **
>
> **ä¿¡å·è°ƒåº¦çº¿ç¨‹**
> > è¿™ç§çº¿ç¨‹**æ¥æ”¶ä¿¡å·**å¹¶å‘é€ç»™`JVM`,åœ¨å®ƒå†…éƒ¨é€šè¿‡è°ƒç”¨é€‚å½“çš„æ–¹æ³•è¿›è¡Œå¤„ç†

[top](#jvm)ğŸš¦[home](../index.md#jvm)
